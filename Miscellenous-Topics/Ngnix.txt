###########
ğŸ”· Nginx
###########
NGINX is a high-performance web server, reverse proxy, load balancer, and HTTP cache that uses an event-driven, non-blocking architecture to handle large numbers of concurrent connections efficiently.


â“ Why NGINX Was Created (Problem Statement)
Traditional web servers like Apache (process/thread-based) had problems:
â¤ One thread/process per request
â¤ High memory consumption
â¤ Poor performance under high concurrency
â¤ Context switching overhead

ğŸ‘‰ NGINX was created to solve the â€œC10K problemâ€ (handling 10,000+ concurrent connections efficiently)


ğŸ”„ Core Idea Behind NGINX
ğŸ”‘ Event-Driven & Non-Blocking I/O
â¤ Uses single / few worker processes
â¤ Each worker handles thousands of connections
â¤ Uses OS mechanisms like:
    âœ”ï¸ epoll (Linux)
    âœ”ï¸ kqueue (BSD)
ğŸ‘‰ One worker â‰  one request
ğŸ‘‰ One worker = many requests concurrently


ğŸ”„ High-Level Architecture of NGINX
          Client Requests
                â†“
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   Master    â”‚
          â”‚   Process   â”‚
          â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚          â”‚          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Worker â”‚ â”‚ Worker â”‚ â”‚ Worker â”‚
â”‚Process â”‚ â”‚Process â”‚ â”‚Process â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”„ Master Process
â¤ Reads configuration
â¤ Manages worker processes
â¤ Handles reloads & restarts

ğŸ”„ Worker Processes
â¤ Handle actual client requests
â¤ Event-driven
â¤ Non-blocking


ğŸ”„ Working of Nginx
NGINX is NOT just a web server.

âœ… Main Use Cases
â¤ Web Server
â¤ Reverse Proxy
â¤ Load Balancer
â¤ HTTP Cache
â¤ API Gateway (basic)
â¤ SSL/TLS termination
â¤ Static content serving

1ï¸âƒ£ NGINX as a Web Server
â¤ Serves static files (HTML, CSS, JS, images)
â¤ Extremely fast for static content
â¤ Better than Apache for static workloads

âœ… Example:
server {
    listen 80;
    server_name example.com;
    root /var/www/html;
}

2ï¸âƒ£ NGINX as a Reverse Proxy 
â“ What is Reverse Proxy?
â¤ Client talks to NGINX
â¤ NGINX talks to backend servers
â¤ Backend servers are hidden

ğŸ‘‰ Client â†’ NGINX â†’ Backend (Spring Boot / Node / Django)
âœ… Example:

location /api {
    proxy_pass http://localhost:8080;
}

ğŸ” Benefits:
â¤ Security
â¤ Load balancing
â¤ SSL termination
â¤ Centralized entry point

3ï¸âƒ£ NGINX as a Load Balancer
Supported Algorithms:
â¤ round-robin (default)
â¤ least_conn
â¤ ip_hash
â¤ weighted load balancing

âœ… Example:

ğŸ”— upstream backend {
    server app1:8080;
    server app2:8080;
}

ğŸ”— server {
    location / {
        proxy_pass http://backend;
    }
}


4ï¸âƒ£ NGINX as a Cache
â¤ Caches responses from backend
â¤ Reduces backend load
â¤ Improves response time

âœ… Example:

proxy_cache_path /tmp/cache levels=1:2 keys_zone=mycache:10m;

location / {
    proxy_cache mycache;
    proxy_pass http://backend;
}


5ï¸âƒ£ SSL / TLS Termination
â¤ NGINX handles HTTPS
â¤ Backend servers run on HTTP

ğŸ” Benefits:
â¤ Simplifies backend
â¤ Improves performance
â¤ Centralized certificate management

ğŸ”· NGINX vs Apache
| Feature         | NGINX             | Apache                 |
| --------------- | ----------------- | ---------------------- |
| Architecture    | Event-driven      | Process / thread-based |
| Concurrency     | Very high         | Limited                |
| Memory usage    | Low               | High                   |
| Static content  | Excellent         | Slower                 |
| Dynamic content | Via proxy         | Via modules            |
| Configuration   | Declarative       | More flexible          |
| Best use case   | Reverse proxy, LB | Legacy apps            |


ğŸ”„ NGINX Configuration Basics
Important Blocks:
â¤ events {} â†’ connection handling
â¤ http {} â†’ HTTP configuration
â¤ server {} â†’ virtual host
â¤ location {} â†’ request routing


ğŸ”„ NGINX Request Flow 
â¤ Client sends request
â¤ NGINX master assigns worker
â¤ Worker processes request asynchronously
â¤ Response returned to client
â¤ Connection reused if possible


ğŸ”„ Why NGINX is So Fastâ“
â¤ Event-driven architecture
â¤ Non-blocking I/O
â¤ Minimal context switching
â¤ Optimized C code
â¤ Efficient memory usage

ğŸ”„ NGINX in Real-World Systems
Used by:
    âœ”ï¸ Netflix
    âœ”ï¸ Amazon
    âœ”ï¸ Google
    âœ”ï¸ Cloudflare
    âœ”ï¸ Kubernetes Ingress Controllers

Common setup:
Client â†’ NGINX â†’ Microservices â†’ DB


ğŸ”„ NGINX in Microservices & Kubernetes
â¤ Used as:
    âœ”ï¸ Ingress Controller
    âœ”ï¸ API Gateway (basic)
â¤ Handles:
    âœ”ï¸ Routing
    âœ”ï¸ SSL
    âœ”ï¸ Rate limiting


ğŸ”„ Limitations of NGINX
âŒ Not a full API Gateway
âŒ Limited authentication features
âŒ No built-in service discovery (needs config reload)
âŒ Advanced features require NGINX Plus
